<% layout("/layouts/boilerplate") %>

    <body class="bg-light">

        <!-- 🌐 Category Navigation -->
        <div class="container-fluid py-3 bg-white shadow-sm">
            <div class="d-flex overflow-auto gap-3 px-3">
                <% const categories = [
                { name: "Pizza", img: "https://images.unsplash.com/photo-1574071318508-1cdbab80d002" },
                { name: "Pasta", img: "https://images.pexels.com/photos/1279330/pexels-photo-1279330.jpeg" },
                { name: "Noodles", img: "https://images.unsplash.com/photo-1555126634-323283e090fa" },
                { name: "Rice", img: "https://images.pexels.com/photos/3926124/pexels-photo-3926124.jpeg" },
                { name: "Appetizer", img: "https://images.pexels.com/photos/6210876/pexels-photo-6210876.jpeg" },
                { name: "Curry", img: "https://images.unsplash.com/photo-1601050690597-df0568f70950" },
                { name: "Biryani", img: "https://images.unsplash.com/photo-1631515243349-e0cb75fb8d3a" },
                { name: "Bread", img: "https://images.pexels.com/photos/2474661/pexels-photo-2474661.jpeg" },
                { name: "Street Food", img: "https://images.unsplash.com/photo-1601050690597-df0568f70950" },
                { name: "Dessert", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d" },
                { name: "Beverage", img: "https://images.unsplash.com/photo-1564890369478-c89ca6d9cde9" },
            ]; %>

                    <% categories.forEach(cat => { %>
                        <div class="text-center" style="cursor: pointer;" onclick="window.location.href='/?category=<%= cat.name %>'">
                            <img src="<%= cat.img %>" alt="<%= cat.name %>" class="img-fluid rounded-circle border border-2" style="width: 60px; height: 60px; object-fit: cover;">
                            <div class="small mt-1 fw-semibold">
                                <%= cat.name %>
                            </div>
                        </div>
                        <% }) %>
            </div>
        </div>

        <!-- 🍱 Food Listings -->
        <div class="container mt-4">
            <div class="row g-4">
                <% for (let list of allListing) { %>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3">
                        <div class="card h-100 shadow-sm border-0">
                            <a href="/show/<%= list._id %>" class="text-decoration-none text-dark">
                            <img src="<%= list.image_url %>" class="card-img-top" alt="<%= list.name %>" style="height: 180px; object-fit: cover;">
                            <div class="card-body">
                                <h5 class="card-title mb-1 fw-bold"><%= list.name %></h5>
                                <p class="card-text text-muted mb-2"><%= list.category %></p>
                                <p class="card-text mb-0 text-danger fw-semibold">&#8377;<%= list.price %></p>
                            </div>
                        </a>
                        </div>
                    </div>
                    <% } %>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>

        <style>
            body {
                font-family: "Segoe UI", sans-serif;
            }
            
            .card:hover {
                transform: translateY(-3px);
                transition: 0.3s ease-in-out;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            }
            
            .food-nav img:hover {
                border-color: #dc3545;
            }
            
            @media (max-width: 576px) {
                .card-img-top {
                    height: 160px !important;
                }
            }
        </style>
    </body>