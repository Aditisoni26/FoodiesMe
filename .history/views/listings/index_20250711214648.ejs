<% layout("/layouts/boilerplate") %>

    <body>
        <!-- Category Navigation -->
        <div class="container my-3">
            <div class="row flex-nowrap overflow-auto gx-3 food-nav">
                <% const categories = [
                { name: "Pizza", img: "https://images.unsplash.com/photo-1574071318508-1cdbab80d002" },
                { name: "Pasta", img: "https://images.pexels.com/photos/1279330/pexels-photo-1279330.jpeg" },
                { name: "Noodles", img: "https://images.unsplash.com/photo-1555126634-323283e090fa" },
                { name: "Rice", img: "https://images.pexels.com/photos/3926124/pexels-photo-3926124.jpeg" },
                { name: "Appetizer", img: "https://images.pexels.com/photos/6210876/pexels-photo-6210876.jpeg" },
                { name: "Curry", img: "https://images.unsplash.com/photo-1601050690597-df0568f70950" },
                { name: "Biryani", img: "https://images.unsplash.com/photo-1631515243349-e0cb75fb8d3a" },
                { name: "Bread", img: "https://images.pexels.com/photos/2474661/pexels-photo-2474661.jpeg" },
                { name: "Street Food", img: "https://images.unsplash.com/photo-1601050690597-df0568f70950" },
                { name: "Dessert", img: "https://images.unsplash.com/photo-1571115177098-24ec42ed204d" },
                { name: "Beverage", img: "https://images.unsplash.com/photo-1564890369478-c89ca6d9cde9" },
            ]; %>

                    <% categories.forEach(cat => { %>
                        <div class="col-auto text-center" style="cursor: pointer;" onclick="window.location.href='/?category=<%= cat.name %>'">
                            <img src="<%= cat.img %>" alt="<%= cat.name %>" class="img-fluid rounded" style="height: 80px; width: 80px; object-fit: cover;">
                            <div class="fw-bold">
                                <%= cat.name %>
                            </div>
                        </div>
                        <% }) %>
            </div>
        </div>

        <!-- Listings Grid -->
        <div class="container">
            <div class="row">
                <% for (let list of allListing) { %>
                    <div class="col-sm-6 col-md-4 col-lg-3 mb-4">
                        <div class="card h-100 shadow">
                            <a href="/show/<%= list._id %>" class="text-decoration-none text-dark">
                            <img src="<%= list.image_url %>" class="card-img-top img-fluid" alt="<%= list.name %>">
                            <div class="card-body">
                                <h6 class="card-title mb-1"><%= list.name %></h6>
                                <p class="card-text mb-0"><strong><%= list.category %></strong></p>
                                <p class="card-text">&#8377;<%= list.price %></p>
                            </div>
                        </a>
                        </div>
                    </div>
                    <% } %>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>

        <style>
            .food-nav img {
                border: 2px solid #ccc;
                transition: 0.3s;
            }
            
            .food-nav img:hover {
                border-color: #dc3545;
                transform: scale(1.05);
            }
            
            @media (max-width: 576px) {
                .food-nav img {
                    height: 60px;
                    width: 60px;
                }
            }
        </style>
    </body>